#include <stdio.h>
#include <string.h>
#include <math.h>

int main () {
    char line[1000] = "Atop a large, ice-covered plateau,     "; // 5 extra space.
    int extra_spaces = 5;
    char * next_word;
    int gaps = 4;
    int j = 1;
    int line_w = 72;
    int line_l = strlen(line);
    printf("%s", line);

    if (0 != j) {
        int spaces_seen;
        int spaces_printed = 1;
        int g = 1;
        printf("\r");
        printf ("Splitting string \"%s\" into tokens:\n------\n", line);
        next_word = strtok (line," ");
        while (next_word != NULL) {
            printf("length: %lu", strlen(next_word));
            printf ("%s",next_word);
            // print justified spaces
            spaces_seen = (int) ceil((g * extra_spaces) / gaps);
            /* printf("\nSeen: %d\n", spaces_seen); */
            for ( ; spaces_printed <= spaces_seen; spaces_printed++) {
                /* printf("Spaces Printed:%d", spaces_printed); */
                printf("*");
            }
            spaces_printed--;
            /* printf("\nPrinted: %d\n", spaces_printed); */
            g++;
            next_word = strtok (NULL, " ");
        }
    }
}
